

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tutorial &mdash; tml v0.1.0 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="tml v0.1.0 documentation" href="index.html" />
    <link rel="next" title="The Teeworlds map format" href="mapformat.html" />
    <link rel="prev" title="Welcome to TeeworldsMapLib’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mapformat.html" title="The Teeworlds map format"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to TeeworldsMapLib’s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">tml v0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p>This tutorial will help you using and understanding this library.</p>
<div class="section" id="create-load-and-save-a-map">
<h2>Create, load and save a map<a class="headerlink" href="#create-load-and-save-a-map" title="Permalink to this headline">¶</a></h2>
<p>Creating a new teeworlds map is pretty simple. You just need to create an
instance of the <cite>Teemap</cite> class in our <cite>tml</cite> module. A gamelayer and a
background quad will be automatically created for you.
If you want you can load an existing teeworlds map with the load method
and of course save them, you can give the path as the first parameter.
The &#8220;map&#8221; fileextension is optional.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tml.tml</span> <span class="kn">import</span> <span class="n">Teemap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">twmap</span> <span class="o">=</span> <span class="n">Teemap</span><span class="p">(</span><span class="s">&#39;dm1_test&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">twmap</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s">&#39;unnamed&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="tml.tml.Teemap">
<em class="property">class </em><tt class="descclassname">tml.tml.</tt><tt class="descname">Teemap</tt><big>(</big><em>map_path=None</em><big>)</big><a class="headerlink" href="#tml.tml.Teemap" title="Permalink to this definition">¶</a></dt>
<dd><p>Representation of a teeworlds map.</p>
<p>All information about the map can be accessed through this class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>map_path</strong> &#8211; Path to the teeworlds mapfile.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="accessing-the-data">
<h2>Accessing the data<a class="headerlink" href="#accessing-the-data" title="Permalink to this headline">¶</a></h2>
<p>You may wonder where you can find the different things of a teeworlds map.
The order is similar to the order in the original teeworlds client. You have
a list of groups, and in those groups a list of the Tile and Quadlayers and the
Gamelayer (which is a Tilelayer with a special flag). Also there are three more
lists with the images (image name and if it is embedded additional the image
itself), envelopes and envpoints.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tml.tml</span> <span class="kn">import</span> <span class="n">Teemap</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Teemap</span><span class="p">(</span><span class="s">&#39;dm1_test&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">envelopes</span>
<span class="go">[&lt;Envelope&gt;, &lt;Envelope&gt;, &lt;Envelope&gt;, &lt;Envelope&gt;, &lt;Envelope&gt;, &lt;Envelope&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">envpoints</span>
<span class="go">[&lt;Envpoint&gt;, &lt;Envpoint&gt;, &lt;Envpoint&gt;, &lt;Envpoint&gt;, &lt;Envpoint&gt;, &lt;Envpoint&gt;, &lt;Envpoint&gt;, &lt;Envpoint&gt;, &lt;Envpoint&gt;, &lt;Envpoint&gt;, &lt;Envpoint&gt;, &lt;Envpoint&gt;, &lt;Envpoint&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">images</span>
<span class="go">[&lt;Image&gt;, &lt;Image&gt;, &lt;Image&gt;, &lt;Image&gt;, &lt;Image&gt;, &lt;Image&gt;, &lt;Image&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">images</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;bg_cloud1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">images</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;mountains&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">groups</span>
<span class="go">[&lt;Group&gt;, &lt;Group&gt;, &lt;Group&gt;, &lt;Group&gt;, &lt;Group&gt;, &lt;Group&gt;, &lt;Group&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">layers</span>
<span class="go">[&lt;Quad layer&gt;, &lt;Quad layer&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">groups</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="o">.</span><span class="n">layers</span>
<span class="go">[&lt;Tile layer (60x50)&gt;, &lt;Tile layer (60x50)&gt;, &lt;Tile layer (60x50)&gt;, &lt;Tile layer (60x50)&gt;, &lt;Tile layer (60x50)&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">gamelayer</span>
<span class="go">&lt;Tile layer (60x50)&gt;</span>
</pre></div>
</div>
<p>Here are a view examples to fetch some information.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">solid_tiles</span> <span class="o">=</span> <span class="nb">len</span><span class="p">([</span><span class="n">tile</span> <span class="k">for</span> <span class="n">tile</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">gamelayer</span><span class="o">.</span><span class="n">tiles</span> <span class="k">if</span> <span class="n">tile</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="s">&#39;The map contains {0} solid tiles&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">solid_tiles</span><span class="p">)</span>
<span class="go">The map contains 1535 solid tiles</span>
</pre></div>
</div>
</div>
<div class="section" id="modifying">
<h2>Modifying<a class="headerlink" href="#modifying" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tml.items.TileLayer">
<em class="property">class </em><tt class="descclassname">tml.items.</tt><tt class="descname">TileLayer</tt><big>(</big><em>width=50</em>, <em>height=50</em>, <em>name='Tiles'</em>, <em>detail=False</em>, <em>game=0</em>, <em>color=(255</em>, <em>255</em>, <em>255</em>, <em>255)</em>, <em>color_env=-1</em>, <em>color_env_offset=0</em>, <em>image_id=-1</em>, <em>tiles=None</em>, <em>tele_tiles=None</em>, <em>speedup_tiles=None</em><big>)</big><a class="headerlink" href="#tml.items.TileLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a tilelayer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>width</strong> &#8211; Default: 50</li>
<li><strong>height</strong> &#8211; Default: 50</li>
<li><strong>name</strong> &#8211; Default: &#8216;Tiles&#8217;</li>
<li><strong>game</strong> &#8211; 1 if it should be the gamelayer. Default: 0</li>
<li><strong>color</strong> &#8211; Tupel with four values for r, g, b, a
Default: (255, 255, 255, 255)</li>
<li><strong>color_env</strong> &#8211; Default: -1</li>
<li><strong>color_env_offset</strong> &#8211; Default: 0</li>
<li><strong>image_id</strong> &#8211; Default: -1</li>
<li><strong>tiles</strong> &#8211; Initial TileManager, used internally</li>
<li><strong>tele_tiles</strong> &#8211; For race modification</li>
<li><strong>speedup_tiles</strong> &#8211; For race modification</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="tml.items.TileLayer.select">
<tt class="descname">select</tt><big>(</big><em>x</em>, <em>y</em>, <em>w=1</em>, <em>h=1</em><big>)</big><a class="headerlink" href="#tml.items.TileLayer.select" title="Permalink to this definition">¶</a></dt>
<dd><p>Select an area of the tilelayer.</p>
<p>Creates a new TileLayer of the section you are selecting. If you are
selecting over the borders, it will just cut your selection to fit to
the layer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> &#8211; x-position</li>
<li><strong>y</strong> &#8211; y-position</li>
<li><strong>w</strong> &#8211; width, default: 1</li>
<li><strong>h</strong> &#8211; height, default: 1</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">TileLayer</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tutorial</a><ul>
<li><a class="reference internal" href="#create-load-and-save-a-map">Create, load and save a map</a></li>
<li><a class="reference internal" href="#accessing-the-data">Accessing the data</a></li>
<li><a class="reference internal" href="#modifying">Modifying</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to TeeworldsMapLib&#8217;s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="mapformat.html"
                        title="next chapter">The Teeworlds map format</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/tutorial.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="mapformat.html" title="The Teeworlds map format"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to TeeworldsMapLib’s documentation!"
             >previous</a> |</li>
        <li><a href="index.html">tml v0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2011, TML Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>